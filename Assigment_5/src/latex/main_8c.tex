\hypertarget{main_8c}{}\doxysection{main.\+c File Reference}
\label{main_8c}\index{main.c@{main.c}}
{\ttfamily \#include $<$zephyr.\+h$>$}\newline
{\ttfamily \#include $<$device.\+h$>$}\newline
{\ttfamily \#include $<$devicetree.\+h$>$}\newline
{\ttfamily \#include $<$drivers/gpio.\+h$>$}\newline
{\ttfamily \#include $<$drivers/adc.\+h$>$}\newline
{\ttfamily \#include $<$drivers/pwm.\+h$>$}\newline
{\ttfamily \#include $<$sys/printk.\+h$>$}\newline
{\ttfamily \#include $<$sys/\+\_\+\+\_\+assert.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$timing/timing.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$drivers/uart.\+h$>$}\newline
{\ttfamily \#include $<$hal/nrf\+\_\+saadc.\+h$>$}\newline
Include dependency graph for main.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{main_8c_a6f1906b9c40734b4c243278466d4ec0b}{len\+\_\+dados}}~10
\item 
\#define \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}~1024
\item 
\#define \mbox{\hyperlink{main_8c_a746ccc18867d1114f9ea5144c5dfb59e}{thread\+\_\+\+A1\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a5936222e9802dbe8ceb1e99bd667466a}{thread\+\_\+\+A\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_aa9928aa4491a20c74a19c5904ba9530a}{thread\+\_\+\+B\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a1bd72aae8d0dd6e887547a1d5e0a8902}{thread\+\_\+\+C\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a02433a30dac2e9bc252089790fc081e3}{thread\+\_\+\+D\+\_\+prio}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a7829e7c5c37ea8a78e879aa2028dfb21}{S\+A\+M\+P\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS}}~1000
\item 
\#define \mbox{\hyperlink{main_8c_a667158ed9af1b72bf062e54bda71dd4f}{A\+D\+C\+\_\+\+N\+ID}}~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(adc)
\item 
\#define \mbox{\hyperlink{main_8c_a00978ca9e8220475258dcbbbb7d29129}{A\+D\+C\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON}}~10
\item 
\#define \mbox{\hyperlink{main_8c_a2bbc7e1578f01928d36ef7fa94ac4905}{A\+D\+C\+\_\+\+G\+A\+IN}}~A\+D\+C\+\_\+\+G\+A\+I\+N\+\_\+1\+\_\+4
\item 
\#define \mbox{\hyperlink{main_8c_a317868c528ebe27fbca094a8bc2d910c}{A\+D\+C\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE}}~A\+D\+C\+\_\+\+R\+E\+F\+\_\+\+V\+D\+D\+\_\+1\+\_\+4
\item 
\#define \mbox{\hyperlink{main_8c_aeb8de5967ac4465f35317d818eeb129b}{A\+D\+C\+\_\+\+A\+C\+Q\+U\+I\+S\+I\+T\+I\+O\+N\+\_\+\+T\+I\+ME}}~A\+D\+C\+\_\+\+A\+C\+Q\+\_\+\+T\+I\+ME(A\+D\+C\+\_\+\+A\+C\+Q\+\_\+\+T\+I\+M\+E\+\_\+\+M\+I\+C\+R\+O\+S\+E\+C\+O\+N\+DS, 40)
\item 
\#define \mbox{\hyperlink{main_8c_a8bfca74ee546715af6682194ea92286a}{A\+D\+C\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+ID}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a5508ef7e762284248c2e87e16865522e}{A\+D\+C\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+I\+N\+P\+UT}}~N\+R\+F\+\_\+\+S\+A\+A\+D\+C\+\_\+\+I\+N\+P\+U\+T\+\_\+\+A\+I\+N1
\item 
\#define \mbox{\hyperlink{main_8c_a6b20d41d6252e9871430c242cb1a56e7}{B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}~1
\item 
\#define \mbox{\hyperlink{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}{G\+P\+I\+O0\+\_\+\+N\+ID}}~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(gpio0)
\item 
\#define \mbox{\hyperlink{main_8c_ab48b150a8660d0152dfde25b42c1755f}{P\+W\+M0\+\_\+\+N\+ID}}~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(pwm0)
\item 
\#define \mbox{\hyperlink{main_8c_ad66f6c0ce6fd44d24653df422e7a8c92}{B\+O\+A\+R\+D\+L\+E\+D1}}~0x0d
\item 
\#define \mbox{\hyperlink{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}{B\+O\+A\+R\+D\+B\+U\+T1}}~0xb /$\ast$ Pin at which B\+U\+T1 is connected. Addressing is direct (i.\+e., pin number) $\ast$/
\item 
\#define \mbox{\hyperlink{main_8c_a590d906828bd5948fafbef47dc1c3b0c}{B\+O\+A\+R\+D\+B\+U\+T2}}~0xc
\item 
\#define \mbox{\hyperlink{main_8c_a590d906828bd5948fafbef47dc1c3b0c}{B\+O\+A\+R\+D\+B\+U\+T2}}~0xc
\item 
\#define \mbox{\hyperlink{main_8c_abee96e1280405ff973ee2b6b07eec104}{B\+O\+A\+R\+D\+B\+U\+T4}}~0x19
\item 
\#define \mbox{\hyperlink{main_8c_aa46777f75164fc107271e38f1f773e4d}{F\+A\+T\+A\+L\+\_\+\+E\+RR}}~-\/1 /$\ast$ Fatal error return code, app terminates $\ast$/
\item 
\#define \mbox{\hyperlink{main_8c_a5a1ea1c93b9d5909b8dae955d03de583}{U\+A\+R\+T\+\_\+\+N\+ID}}~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(uart0)    /$\ast$ U\+A\+RT Node label, see dts $\ast$/
\item 
\#define \mbox{\hyperlink{main_8c_a630686ccbe0cb17e592951055a5da582}{R\+X\+B\+U\+F\+\_\+\+S\+I\+ZE}}~60                   /$\ast$ RX buffer size $\ast$/
\item 
\#define \mbox{\hyperlink{main_8c_a923af2d146f214e75816a7f5993cee29}{T\+X\+B\+U\+F\+\_\+\+S\+I\+ZE}}~60                   /$\ast$ TX buffer size $\ast$/
\item 
\#define \mbox{\hyperlink{main_8c_ab6426fc74901f4fbec94862ebb672b81}{R\+X\+\_\+\+T\+I\+M\+E\+O\+UT}}~1000                  /$\ast$ Inactivity period after the instant when last char was received that triggers an rx event (in us) $\ast$/
\item 
\#define \mbox{\hyperlink{main_8c_aabfdd434c3f5fc98789fd65dc741f3f5}{M\+A\+I\+N\+\_\+\+S\+L\+E\+E\+P\+\_\+\+T\+I\+M\+E\+\_\+\+MS}}~10 /$\ast$ Time between \mbox{\hyperlink{main_8h_a6288eba0f8e8ad3ab1544ad731eb7667}{main}}() activations $\ast$/
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{main_8c_ae505fc6620f0a2078ddae90271792e8f}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+\+A1\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_aa25f5f9092ccf13998f3cb9e9e1d10a6}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+\+A\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_a8318aa1ed5939244957a68387085ddec}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+\+B\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_a331fd55d9b95c3e662a4148fbc522271}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+\+C\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
\mbox{\hyperlink{main_8c_a1aa340a38690690e42169ae37089ca8f}{K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE}} (thread\+\_\+\+D\+\_\+stack, \mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}})
\item 
void \mbox{\hyperlink{main_8c_a7e3fa2c87f08ae9cfff992653a3ac0b6}{thread\+\_\+\+A1\+\_\+code}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em É o valor da A\+DC que é guardado numa variável global (shared memory between tasks A/B) no nosso Código denominada por “ab” e no final faz give do semáforo AB. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a61675a61bbec86901b2fe28f008e881c}{thread\+\_\+\+A\+\_\+code}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em É o valor da A\+DC que é guardado numa variável global (shared memory between tasks A/B) no nosso Código denominada por “ab” e no final faz give do semáforo AB. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a99cef2c8673e9c73162dd97f0247ca8e}{thread\+\_\+\+B\+\_\+code}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em é feito o take do semáforo AB é realizado uma média das últimas 10 amostras calculadas na thread A e é feito um filtro rejeitando todos os valores que estejam abaixo ou acima de 10\% da média, sendo que este output é colocado numa variável global (shared memory between tasks B/C) no nosso Código denominada por “cb” e no final faz give do semáforo BC. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a6eec62f04743b40b6d744ecd2f31cdd2}{thread\+\_\+\+C\+\_\+code}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\item 
void \mbox{\hyperlink{main_8c_a1a621f0dfdf57a438495482f571278e7}{thread\+\_\+\+D\+\_\+code}} (void $\ast$argA, void $\ast$argB, void $\ast$argC)
\begin{DoxyCompactList}\small\item\em Takes one adc\+\_\+sample. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_ae7d90a3db3be4d74a95d59cb9bc36764}{but1press\+\_\+cbfunction}} (const struct device $\ast$dev, struct gpio\+\_\+callback $\ast$cb, uint32\+\_\+t pins)
\begin{DoxyCompactList}\small\item\em If button 1 is pressed, Update Flag 1. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_ad5a577fea0419d075e8b4de7c1416f9b}{but2press\+\_\+cbfunction}} (const struct device $\ast$dev, struct gpio\+\_\+callback $\ast$cb, uint32\+\_\+t pins)
\begin{DoxyCompactList}\small\item\em If button 2 is pressed, Update Flag 2. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_ad98aaf56309e1b0b996d247f18b73b0e}{but4press\+\_\+cbfunction}} (const struct device $\ast$dev, struct gpio\+\_\+callback $\ast$cb, uint32\+\_\+t pins)
\begin{DoxyCompactList}\small\item\em If button 4 is pressed, Update Flag 4. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}{main}} (void)
\begin{DoxyCompactList}\small\item\em Main funtion\+: Initialize semaphores and configure G\+P\+I\+O\+\_\+\+P\+IN (U\+A\+RT) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a9458f0d62ec1f293b70003f545ef3736}{thread\+\_\+\+A1\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a6d4412666e45fbd3d7bb2e537e3e4921}{thread\+\_\+\+A\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_ad832c1a3de4a77b89216efc38eddcb72}{thread\+\_\+\+B\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a9723f8aa3cfd56015ee57bc31879f8ec}{thread\+\_\+\+C\+\_\+data}}
\item 
struct k\+\_\+thread \mbox{\hyperlink{main_8c_a91a7abf451804f293c55d5fc507cee31}{thread\+\_\+\+D\+\_\+data}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_a65e8d83f25fef7705df61d0ba2e7aeed}{thread\+\_\+\+A1\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_aaac68d6bd12397c115c8f5fb8b8dae16}{thread\+\_\+\+A\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_af2bd9deb85bd5ac0cdf3a0b077411289}{thread\+\_\+\+B\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_a3e9a231be3f7d1a28871ddfdf5ca8fe3}{thread\+\_\+\+C\+\_\+tid}}
\item 
k\+\_\+tid\+\_\+t \mbox{\hyperlink{main_8c_ae130441eb06f8e1d532010c32c8fd15c}{thread\+\_\+\+D\+\_\+tid}}
\item 
int \mbox{\hyperlink{main_8c_a0fd5f93d336a08dcaabccf71812f2ef0}{a1a}} =0
\item 
int \mbox{\hyperlink{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}{ab}} = 0
\item 
int \mbox{\hyperlink{main_8c_a97102b52a1cf13a343a1a414bc865cde}{bc}} = 0
\item 
int \mbox{\hyperlink{main_8c_ab36d1100473c16852c1b64d1917454a4}{bd}} = 0
\item 
struct k\+\_\+sem \mbox{\hyperlink{main_8c_a694d4d09f94a0fa64224f38ced19a053}{sem\+\_\+a1a}}
\item 
struct k\+\_\+sem \mbox{\hyperlink{main_8c_a82e13125c2f279157fcf738219ff21ba}{sem\+\_\+ab}}
\item 
struct k\+\_\+sem \mbox{\hyperlink{main_8c_addc907d18e7e98a64a832ac1c7be5ad1}{sem\+\_\+bc}}
\item 
struct k\+\_\+sem \mbox{\hyperlink{main_8c_a87cd814a87f494b060e8c0903fc0068f}{sem\+\_\+bd}}
\item 
struct k\+\_\+timer \mbox{\hyperlink{main_8c_a80d0933bb7a6454573b3ade529a72418}{my\+\_\+timer}}
\item 
const struct device $\ast$ \mbox{\hyperlink{main_8c_a445f79326d40128ece59a749adff6894}{adc\+\_\+dev}} = N\+U\+LL
\item 
volatile int \mbox{\hyperlink{main_8c_a1b93c31a3a5406a58cf35e15fdfe4cfa}{Flag\+\_\+1}} = 0
\item 
volatile int \mbox{\hyperlink{main_8c_a1a04a388ea7965509c8323377ab6dc11}{Flag\+\_\+3}} = 0
\item 
volatile int \mbox{\hyperlink{main_8c_a925968d5fb460a21c13cb8917784b98f}{Flag\+\_\+2}} = 0
\item 
volatile int \mbox{\hyperlink{main_8c_a9797c6a281fed7356c07f50a6727bd88}{Flag\+\_\+4}} = 0
\item 
volatile bool \mbox{\hyperlink{main_8c_a83a05746f11a28eb3b63c6a34f02b6b0}{flag\+\_\+flag}} = 0
\item 
const struct device $\ast$ \mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\+\_\+dev}}
\item 
const struct uart\+\_\+config \mbox{\hyperlink{main_8c_acbbb8dc9e34f2cbd68792504dc18da81}{uart\+\_\+cfg}}
\item 
const struct device $\ast$ \mbox{\hyperlink{main_8c_a660f23134aaae43c9ff2c6096fa59342}{uart\+\_\+dev}}
\item 
volatile int \mbox{\hyperlink{main_8c_a8602e618ecd67a430b4e7582fd69bd51}{uart\+\_\+rx\+\_\+rdy\+\_\+flag}}
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8c_aa10d925c769d61749a2c03cbc08accf9}{welcome\+\_\+mesg}} \mbox{[}$\,$\mbox{]} = \char`\"{}U\+A\+RT demo\+: Type a few chars in a row and then pause for a little while ...\textbackslash{}n\textbackslash{}r\char`\"{}
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8c_a3a480200b92d24ef74a3d1673fe80352}{rep\+\_\+mesg}} \mbox{[}\mbox{\hyperlink{main_8c_a923af2d146f214e75816a7f5993cee29}{T\+X\+B\+U\+F\+\_\+\+S\+I\+ZE}}\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{main_8c_aeb8de5967ac4465f35317d818eeb129b}\label{main_8c_aeb8de5967ac4465f35317d818eeb129b}} 
\index{main.c@{main.c}!ADC\_ACQUISITION\_TIME@{ADC\_ACQUISITION\_TIME}}
\index{ADC\_ACQUISITION\_TIME@{ADC\_ACQUISITION\_TIME}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ADC\_ACQUISITION\_TIME}{ADC\_ACQUISITION\_TIME}}
{\footnotesize\ttfamily \#define A\+D\+C\+\_\+\+A\+C\+Q\+U\+I\+S\+I\+T\+I\+O\+N\+\_\+\+T\+I\+ME~A\+D\+C\+\_\+\+A\+C\+Q\+\_\+\+T\+I\+ME(A\+D\+C\+\_\+\+A\+C\+Q\+\_\+\+T\+I\+M\+E\+\_\+\+M\+I\+C\+R\+O\+S\+E\+C\+O\+N\+DS, 40)}

\mbox{\Hypertarget{main_8c_a8bfca74ee546715af6682194ea92286a}\label{main_8c_a8bfca74ee546715af6682194ea92286a}} 
\index{main.c@{main.c}!ADC\_CHANNEL\_ID@{ADC\_CHANNEL\_ID}}
\index{ADC\_CHANNEL\_ID@{ADC\_CHANNEL\_ID}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ADC\_CHANNEL\_ID}{ADC\_CHANNEL\_ID}}
{\footnotesize\ttfamily \#define A\+D\+C\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+ID~1}

\mbox{\Hypertarget{main_8c_a5508ef7e762284248c2e87e16865522e}\label{main_8c_a5508ef7e762284248c2e87e16865522e}} 
\index{main.c@{main.c}!ADC\_CHANNEL\_INPUT@{ADC\_CHANNEL\_INPUT}}
\index{ADC\_CHANNEL\_INPUT@{ADC\_CHANNEL\_INPUT}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ADC\_CHANNEL\_INPUT}{ADC\_CHANNEL\_INPUT}}
{\footnotesize\ttfamily \#define A\+D\+C\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+I\+N\+P\+UT~N\+R\+F\+\_\+\+S\+A\+A\+D\+C\+\_\+\+I\+N\+P\+U\+T\+\_\+\+A\+I\+N1}

\mbox{\Hypertarget{main_8c_a2bbc7e1578f01928d36ef7fa94ac4905}\label{main_8c_a2bbc7e1578f01928d36ef7fa94ac4905}} 
\index{main.c@{main.c}!ADC\_GAIN@{ADC\_GAIN}}
\index{ADC\_GAIN@{ADC\_GAIN}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ADC\_GAIN}{ADC\_GAIN}}
{\footnotesize\ttfamily \#define A\+D\+C\+\_\+\+G\+A\+IN~A\+D\+C\+\_\+\+G\+A\+I\+N\+\_\+1\+\_\+4}

\mbox{\Hypertarget{main_8c_a667158ed9af1b72bf062e54bda71dd4f}\label{main_8c_a667158ed9af1b72bf062e54bda71dd4f}} 
\index{main.c@{main.c}!ADC\_NID@{ADC\_NID}}
\index{ADC\_NID@{ADC\_NID}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ADC\_NID}{ADC\_NID}}
{\footnotesize\ttfamily \#define A\+D\+C\+\_\+\+N\+ID~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(adc)}

A\+DC definitions and includes \mbox{\Hypertarget{main_8c_a317868c528ebe27fbca094a8bc2d910c}\label{main_8c_a317868c528ebe27fbca094a8bc2d910c}} 
\index{main.c@{main.c}!ADC\_REFERENCE@{ADC\_REFERENCE}}
\index{ADC\_REFERENCE@{ADC\_REFERENCE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ADC\_REFERENCE}{ADC\_REFERENCE}}
{\footnotesize\ttfamily \#define A\+D\+C\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE~A\+D\+C\+\_\+\+R\+E\+F\+\_\+\+V\+D\+D\+\_\+1\+\_\+4}

\mbox{\Hypertarget{main_8c_a00978ca9e8220475258dcbbbb7d29129}\label{main_8c_a00978ca9e8220475258dcbbbb7d29129}} 
\index{main.c@{main.c}!ADC\_RESOLUTION@{ADC\_RESOLUTION}}
\index{ADC\_RESOLUTION@{ADC\_RESOLUTION}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ADC\_RESOLUTION}{ADC\_RESOLUTION}}
{\footnotesize\ttfamily \#define A\+D\+C\+\_\+\+R\+E\+S\+O\+L\+U\+T\+I\+ON~10}

\mbox{\Hypertarget{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}\label{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}} 
\index{main.c@{main.c}!BOARDBUT1@{BOARDBUT1}}
\index{BOARDBUT1@{BOARDBUT1}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT1}{BOARDBUT1}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T1~0xb /$\ast$ Pin at which B\+U\+T1 is connected. Addressing is direct (i.\+e., pin number) $\ast$/}

\mbox{\Hypertarget{main_8c_a590d906828bd5948fafbef47dc1c3b0c}\label{main_8c_a590d906828bd5948fafbef47dc1c3b0c}} 
\index{main.c@{main.c}!BOARDBUT2@{BOARDBUT2}}
\index{BOARDBUT2@{BOARDBUT2}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT2}{BOARDBUT2}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T2~0xc}

\mbox{\Hypertarget{main_8c_a590d906828bd5948fafbef47dc1c3b0c}\label{main_8c_a590d906828bd5948fafbef47dc1c3b0c}} 
\index{main.c@{main.c}!BOARDBUT2@{BOARDBUT2}}
\index{BOARDBUT2@{BOARDBUT2}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT2}{BOARDBUT2}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T2~0xc}

\mbox{\Hypertarget{main_8c_abee96e1280405ff973ee2b6b07eec104}\label{main_8c_abee96e1280405ff973ee2b6b07eec104}} 
\index{main.c@{main.c}!BOARDBUT4@{BOARDBUT4}}
\index{BOARDBUT4@{BOARDBUT4}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDBUT4}{BOARDBUT4}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+B\+U\+T4~0x19}

\mbox{\Hypertarget{main_8c_ad66f6c0ce6fd44d24653df422e7a8c92}\label{main_8c_ad66f6c0ce6fd44d24653df422e7a8c92}} 
\index{main.c@{main.c}!BOARDLED1@{BOARDLED1}}
\index{BOARDLED1@{BOARDLED1}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARDLED1}{BOARDLED1}}
{\footnotesize\ttfamily \#define B\+O\+A\+R\+D\+L\+E\+D1~0x0d}

\mbox{\Hypertarget{main_8c_a6b20d41d6252e9871430c242cb1a56e7}\label{main_8c_a6b20d41d6252e9871430c242cb1a56e7}} 
\index{main.c@{main.c}!BUFFER\_SIZE@{BUFFER\_SIZE}}
\index{BUFFER\_SIZE@{BUFFER\_SIZE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BUFFER\_SIZE}{BUFFER\_SIZE}}
{\footnotesize\ttfamily \#define B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE~1}

\mbox{\Hypertarget{main_8c_aa46777f75164fc107271e38f1f773e4d}\label{main_8c_aa46777f75164fc107271e38f1f773e4d}} 
\index{main.c@{main.c}!FATAL\_ERR@{FATAL\_ERR}}
\index{FATAL\_ERR@{FATAL\_ERR}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{FATAL\_ERR}{FATAL\_ERR}}
{\footnotesize\ttfamily \#define F\+A\+T\+A\+L\+\_\+\+E\+RR~-\/1 /$\ast$ Fatal error return code, app terminates $\ast$/}

\mbox{\Hypertarget{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}\label{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}} 
\index{main.c@{main.c}!GPIO0\_NID@{GPIO0\_NID}}
\index{GPIO0\_NID@{GPIO0\_NID}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{GPIO0\_NID}{GPIO0\_NID}}
{\footnotesize\ttfamily \#define G\+P\+I\+O0\+\_\+\+N\+ID~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(gpio0)}

Refer to dts file \mbox{\Hypertarget{main_8c_a6f1906b9c40734b4c243278466d4ec0b}\label{main_8c_a6f1906b9c40734b4c243278466d4ec0b}} 
\index{main.c@{main.c}!len\_dados@{len\_dados}}
\index{len\_dados@{len\_dados}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{len\_dados}{len\_dados}}
{\footnotesize\ttfamily \#define len\+\_\+dados~10}

Number of samples for the average \mbox{\Hypertarget{main_8c_aabfdd434c3f5fc98789fd65dc741f3f5}\label{main_8c_aabfdd434c3f5fc98789fd65dc741f3f5}} 
\index{main.c@{main.c}!MAIN\_SLEEP\_TIME\_MS@{MAIN\_SLEEP\_TIME\_MS}}
\index{MAIN\_SLEEP\_TIME\_MS@{MAIN\_SLEEP\_TIME\_MS}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{MAIN\_SLEEP\_TIME\_MS}{MAIN\_SLEEP\_TIME\_MS}}
{\footnotesize\ttfamily \#define M\+A\+I\+N\+\_\+\+S\+L\+E\+E\+P\+\_\+\+T\+I\+M\+E\+\_\+\+MS~10 /$\ast$ Time between \mbox{\hyperlink{main_8h_a6288eba0f8e8ad3ab1544ad731eb7667}{main}}() activations $\ast$/}

\mbox{\Hypertarget{main_8c_ab48b150a8660d0152dfde25b42c1755f}\label{main_8c_ab48b150a8660d0152dfde25b42c1755f}} 
\index{main.c@{main.c}!PWM0\_NID@{PWM0\_NID}}
\index{PWM0\_NID@{PWM0\_NID}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{PWM0\_NID}{PWM0\_NID}}
{\footnotesize\ttfamily \#define P\+W\+M0\+\_\+\+N\+ID~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(pwm0)}

\mbox{\Hypertarget{main_8c_ab6426fc74901f4fbec94862ebb672b81}\label{main_8c_ab6426fc74901f4fbec94862ebb672b81}} 
\index{main.c@{main.c}!RX\_TIMEOUT@{RX\_TIMEOUT}}
\index{RX\_TIMEOUT@{RX\_TIMEOUT}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{RX\_TIMEOUT}{RX\_TIMEOUT}}
{\footnotesize\ttfamily \#define R\+X\+\_\+\+T\+I\+M\+E\+O\+UT~1000                  /$\ast$ Inactivity period after the instant when last char was received that triggers an rx event (in us) $\ast$/}

\mbox{\Hypertarget{main_8c_a630686ccbe0cb17e592951055a5da582}\label{main_8c_a630686ccbe0cb17e592951055a5da582}} 
\index{main.c@{main.c}!RXBUF\_SIZE@{RXBUF\_SIZE}}
\index{RXBUF\_SIZE@{RXBUF\_SIZE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{RXBUF\_SIZE}{RXBUF\_SIZE}}
{\footnotesize\ttfamily \#define R\+X\+B\+U\+F\+\_\+\+S\+I\+ZE~60                   /$\ast$ RX buffer size $\ast$/}

\mbox{\Hypertarget{main_8c_a7829e7c5c37ea8a78e879aa2028dfb21}\label{main_8c_a7829e7c5c37ea8a78e879aa2028dfb21}} 
\index{main.c@{main.c}!SAMP\_PERIOD\_MS@{SAMP\_PERIOD\_MS}}
\index{SAMP\_PERIOD\_MS@{SAMP\_PERIOD\_MS}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{SAMP\_PERIOD\_MS}{SAMP\_PERIOD\_MS}}
{\footnotesize\ttfamily \#define S\+A\+M\+P\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+MS~1000}

Therad periodicity (in ms) \mbox{\Hypertarget{main_8c_a6423a880df59733d2d9b509c7718d3a9}\label{main_8c_a6423a880df59733d2d9b509c7718d3a9}} 
\index{main.c@{main.c}!STACK\_SIZE@{STACK\_SIZE}}
\index{STACK\_SIZE@{STACK\_SIZE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{STACK\_SIZE}{STACK\_SIZE}}
{\footnotesize\ttfamily \#define S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE~1024}

Size of stack area used by each thread (can be thread specific, if necessary) \mbox{\Hypertarget{main_8c_a746ccc18867d1114f9ea5144c5dfb59e}\label{main_8c_a746ccc18867d1114f9ea5144c5dfb59e}} 
\index{main.c@{main.c}!thread\_A1\_prio@{thread\_A1\_prio}}
\index{thread\_A1\_prio@{thread\_A1\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A1\_prio}{thread\_A1\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+\+A1\+\_\+prio~1}

Thread scheduling priority \mbox{\Hypertarget{main_8c_a5936222e9802dbe8ceb1e99bd667466a}\label{main_8c_a5936222e9802dbe8ceb1e99bd667466a}} 
\index{main.c@{main.c}!thread\_A\_prio@{thread\_A\_prio}}
\index{thread\_A\_prio@{thread\_A\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A\_prio}{thread\_A\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+\+A\+\_\+prio~1}

\mbox{\Hypertarget{main_8c_aa9928aa4491a20c74a19c5904ba9530a}\label{main_8c_aa9928aa4491a20c74a19c5904ba9530a}} 
\index{main.c@{main.c}!thread\_B\_prio@{thread\_B\_prio}}
\index{thread\_B\_prio@{thread\_B\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_B\_prio}{thread\_B\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+\+B\+\_\+prio~1}

\mbox{\Hypertarget{main_8c_a1bd72aae8d0dd6e887547a1d5e0a8902}\label{main_8c_a1bd72aae8d0dd6e887547a1d5e0a8902}} 
\index{main.c@{main.c}!thread\_C\_prio@{thread\_C\_prio}}
\index{thread\_C\_prio@{thread\_C\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_C\_prio}{thread\_C\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+\+C\+\_\+prio~1}

\mbox{\Hypertarget{main_8c_a02433a30dac2e9bc252089790fc081e3}\label{main_8c_a02433a30dac2e9bc252089790fc081e3}} 
\index{main.c@{main.c}!thread\_D\_prio@{thread\_D\_prio}}
\index{thread\_D\_prio@{thread\_D\_prio}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_D\_prio}{thread\_D\_prio}}
{\footnotesize\ttfamily \#define thread\+\_\+\+D\+\_\+prio~1}

\mbox{\Hypertarget{main_8c_a923af2d146f214e75816a7f5993cee29}\label{main_8c_a923af2d146f214e75816a7f5993cee29}} 
\index{main.c@{main.c}!TXBUF\_SIZE@{TXBUF\_SIZE}}
\index{TXBUF\_SIZE@{TXBUF\_SIZE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{TXBUF\_SIZE}{TXBUF\_SIZE}}
{\footnotesize\ttfamily \#define T\+X\+B\+U\+F\+\_\+\+S\+I\+ZE~60                   /$\ast$ TX buffer size $\ast$/}

\mbox{\Hypertarget{main_8c_a5a1ea1c93b9d5909b8dae955d03de583}\label{main_8c_a5a1ea1c93b9d5909b8dae955d03de583}} 
\index{main.c@{main.c}!UART\_NID@{UART\_NID}}
\index{UART\_NID@{UART\_NID}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{UART\_NID}{UART\_NID}}
{\footnotesize\ttfamily \#define U\+A\+R\+T\+\_\+\+N\+ID~D\+T\+\_\+\+N\+O\+D\+E\+L\+A\+B\+EL(uart0)    /$\ast$ U\+A\+RT Node label, see dts $\ast$/}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_ae7d90a3db3be4d74a95d59cb9bc36764}\label{main_8c_ae7d90a3db3be4d74a95d59cb9bc36764}} 
\index{main.c@{main.c}!but1press\_cbfunction@{but1press\_cbfunction}}
\index{but1press\_cbfunction@{but1press\_cbfunction}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{but1press\_cbfunction()}{but1press\_cbfunction()}}
{\footnotesize\ttfamily void but1press\+\_\+cbfunction (\begin{DoxyParamCaption}\item[{const struct device $\ast$}]{dev,  }\item[{struct gpio\+\_\+callback $\ast$}]{cb,  }\item[{uint32\+\_\+t}]{pins }\end{DoxyParamCaption})}



If button 1 is pressed, Update Flag 1. 


\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_ae7d90a3db3be4d74a95d59cb9bc36764}{but1press\_cbfunction}}(\textcolor{keyword}{const} \textcolor{keyword}{struct} device *dev, \textcolor{keyword}{struct} gpio\_callback *cb, uint32\_t pins)}
\DoxyCodeLine{\{ }
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a1b93c31a3a5406a58cf35e15fdfe4cfa}{Flag\_1}} = 1;}
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a83a05746f11a28eb3b63c6a34f02b6b0}{flag\_flag}}=!\mbox{\hyperlink{main_8c_a83a05746f11a28eb3b63c6a34f02b6b0}{flag\_flag}};}
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"but1 \(\backslash\)n\(\backslash\)r"});}
\DoxyCodeLine{\}}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em arg3} & const struct device $\ast$dev, struct gpio\+\_\+callback $\ast$cb, uint32\+\_\+t pins. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No returns 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8c_ad5a577fea0419d075e8b4de7c1416f9b}\label{main_8c_ad5a577fea0419d075e8b4de7c1416f9b}} 
\index{main.c@{main.c}!but2press\_cbfunction@{but2press\_cbfunction}}
\index{but2press\_cbfunction@{but2press\_cbfunction}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{but2press\_cbfunction()}{but2press\_cbfunction()}}
{\footnotesize\ttfamily void but2press\+\_\+cbfunction (\begin{DoxyParamCaption}\item[{const struct device $\ast$}]{dev,  }\item[{struct gpio\+\_\+callback $\ast$}]{cb,  }\item[{uint32\+\_\+t}]{pins }\end{DoxyParamCaption})}



If button 2 is pressed, Update Flag 2. 


\begin{DoxyCode}{0}
\DoxyCodeLine{ \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_ae7d90a3db3be4d74a95d59cb9bc36764}{but1press\_cbfunction}}(\textcolor{keyword}{const} \textcolor{keyword}{struct} device *dev, \textcolor{keyword}{struct} gpio\_callback *cb, uint32\_t pins)}
\DoxyCodeLine{\{   }
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a925968d5fb460a21c13cb8917784b98f}{Flag\_2}} = 1;}
\DoxyCodeLine{\}}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em arg3} & const struct device $\ast$dev, struct gpio\+\_\+callback $\ast$cb, uint32\+\_\+t pins. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No returns 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8c_ad98aaf56309e1b0b996d247f18b73b0e}\label{main_8c_ad98aaf56309e1b0b996d247f18b73b0e}} 
\index{main.c@{main.c}!but4press\_cbfunction@{but4press\_cbfunction}}
\index{but4press\_cbfunction@{but4press\_cbfunction}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{but4press\_cbfunction()}{but4press\_cbfunction()}}
{\footnotesize\ttfamily void but4press\+\_\+cbfunction (\begin{DoxyParamCaption}\item[{const struct device $\ast$}]{dev,  }\item[{struct gpio\+\_\+callback $\ast$}]{cb,  }\item[{uint32\+\_\+t}]{pins }\end{DoxyParamCaption})}



If button 4 is pressed, Update Flag 4. 


\begin{DoxyCode}{0}
\DoxyCodeLine{ \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_ae7d90a3db3be4d74a95d59cb9bc36764}{but1press\_cbfunction}}(\textcolor{keyword}{const} \textcolor{keyword}{struct} device *dev, \textcolor{keyword}{struct} gpio\_callback *cb, uint32\_t pins)}
\DoxyCodeLine{\{ }
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a9797c6a281fed7356c07f50a6727bd88}{Flag\_4}} = 1;}
\DoxyCodeLine{\}}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em arg3} & const struct device $\ast$dev, struct gpio\+\_\+callback $\ast$cb, uint32\+\_\+t pins. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No returns 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8c_ae505fc6620f0a2078ddae90271792e8f}\label{main_8c_ae505fc6620f0a2078ddae90271792e8f}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+\+A1\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

Create thread stack space \mbox{\Hypertarget{main_8c_aa25f5f9092ccf13998f3cb9e9e1d10a6}\label{main_8c_aa25f5f9092ccf13998f3cb9e9e1d10a6}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+\+A\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_a8318aa1ed5939244957a68387085ddec}\label{main_8c_a8318aa1ed5939244957a68387085ddec}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+\+B\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_a331fd55d9b95c3e662a4148fbc522271}\label{main_8c_a331fd55d9b95c3e662a4148fbc522271}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+\+C\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_a1aa340a38690690e42169ae37089ca8f}\label{main_8c_a1aa340a38690690e42169ae37089ca8f}} 
\index{main.c@{main.c}!K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}}
\index{K\_THREAD\_STACK\_DEFINE@{K\_THREAD\_STACK\_DEFINE}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{K\_THREAD\_STACK\_DEFINE()}{K\_THREAD\_STACK\_DEFINE()}\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily K\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+S\+T\+A\+C\+K\+\_\+\+D\+E\+F\+I\+NE (\begin{DoxyParamCaption}\item[{thread\+\_\+\+D\+\_\+stack}]{,  }\item[{\mbox{\hyperlink{main_8c_a6423a880df59733d2d9b509c7718d3a9}{S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE}}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}\label{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily void main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Main funtion\+: Initialize semaphores and configure G\+P\+I\+O\+\_\+\+P\+IN (U\+A\+RT) 


\begin{DoxyCode}{0}
\DoxyCodeLine{ \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a6288eba0f8e8ad3ab1544ad731eb7667}{main}}(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{  \textcolor{keywordtype}{int} err=0;    }
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{    printf(\textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)r Illustration of the use of shmem + semaphores\(\backslash\)n\(\backslash\)r"});}
\DoxyCodeLine{    \textcolor{keywordtype}{int} ret = 0;}
\DoxyCodeLine{    ret = gpio\_pin\_configure(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \mbox{\hyperlink{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}{BOARDBUT1}}, GPIO\_INPUT | GPIO\_PULL\_UP);}
\DoxyCodeLine{    ret = gpio\_pin\_configure(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \mbox{\hyperlink{main_8c_a590d906828bd5948fafbef47dc1c3b0c}{BOARDBUT2}}, GPIO\_INPUT | GPIO\_PULL\_UP);}
\DoxyCodeLine{    ret = gpio\_pin\_configure(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \mbox{\hyperlink{main_8c_abee96e1280405ff973ee2b6b07eec104}{BOARDBUT4}}, GPIO\_INPUT | GPIO\_PULL\_UP);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (ret < 0) \{}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Error \%d: Failed to configure BUT 1 \(\backslash\)r"}, ret);}
\DoxyCodeLine{    \textcolor{keywordflow}{return};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    ret = gpio\_pin\_interrupt\_configure(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \mbox{\hyperlink{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}{BOARDBUT1}}, GPIO\_INT\_EDGE\_TO\_ACTIVE);}
\DoxyCodeLine{    ret = gpio\_pin\_interrupt\_configure(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \mbox{\hyperlink{main_8c_a590d906828bd5948fafbef47dc1c3b0c}{BOARDBUT2}}, GPIO\_INT\_EDGE\_TO\_ACTIVE);}
\DoxyCodeLine{    ret = gpio\_pin\_interrupt\_configure(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \mbox{\hyperlink{main_8c_abee96e1280405ff973ee2b6b07eec104}{BOARDBUT4}}, GPIO\_INT\_EDGE\_TO\_ACTIVE);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (ret != 0) \{}
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"Error \%d: failed to configure interrupt on BUT1 pin \(\backslash\)r"}, ret);}
\DoxyCodeLine{    \textcolor{keywordflow}{return};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    gpio\_init\_callback(\&but1\_cb\_data, \mbox{\hyperlink{main_8c_ae7d90a3db3be4d74a95d59cb9bc36764}{but1press\_cbfunction}}, BIT(\mbox{\hyperlink{main_8c_ad3c05b8933cd253785fdd123f6dbfc18}{BOARDBUT1}}));}
\DoxyCodeLine{    gpio\_add\_callback(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \&but1\_cb\_data);}
\DoxyCodeLine{}
\DoxyCodeLine{    gpio\_init\_callback(\&but2\_cb\_data, \mbox{\hyperlink{main_8c_ad5a577fea0419d075e8b4de7c1416f9b}{but2press\_cbfunction}}, BIT(\mbox{\hyperlink{main_8c_a590d906828bd5948fafbef47dc1c3b0c}{BOARDBUT2}}));}
\DoxyCodeLine{    gpio\_add\_callback(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \&but2\_cb\_data);}
\DoxyCodeLine{}
\DoxyCodeLine{    gpio\_init\_callback(\&but4\_cb\_data, \mbox{\hyperlink{main_8c_ad98aaf56309e1b0b996d247f18b73b0e}{but4press\_cbfunction}}, BIT(\mbox{\hyperlink{main_8c_abee96e1280405ff973ee2b6b07eec104}{BOARDBUT4}}));}
\DoxyCodeLine{    gpio\_add\_callback(\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}}, \&but4\_cb\_data);}
\DoxyCodeLine{  }
\DoxyCodeLine{      }
\DoxyCodeLine{    err=0;}
\DoxyCodeLine{    uint8\_t \mbox{\hyperlink{main_8c_aa10d925c769d61749a2c03cbc08accf9}{welcome\_mesg}}[] = \textcolor{stringliteral}{"UART demo: Type a few chars in a row and then pause for a little while ...\(\backslash\)n\(\backslash\)r"}; }
\DoxyCodeLine{    uint8\_t \mbox{\hyperlink{main_8c_a3a480200b92d24ef74a3d1673fe80352}{rep\_mesg}}[\mbox{\hyperlink{main_8c_a923af2d146f214e75816a7f5993cee29}{TXBUF\_SIZE}}];}
\DoxyCodeLine{}
\DoxyCodeLine{ }
\DoxyCodeLine{    }
\DoxyCodeLine{    k\_sem\_init(\&\mbox{\hyperlink{main_8c_a694d4d09f94a0fa64224f38ced19a053}{sem\_a1a}}, 0, 1);}
\DoxyCodeLine{    k\_sem\_init(\&\mbox{\hyperlink{main_8c_a82e13125c2f279157fcf738219ff21ba}{sem\_ab}}, 0, 1);}
\DoxyCodeLine{    k\_sem\_init(\&\mbox{\hyperlink{main_8c_addc907d18e7e98a64a832ac1c7be5ad1}{sem\_bc}}, 0, 1);}
\DoxyCodeLine{     k\_sem\_init(\&\mbox{\hyperlink{main_8c_a87cd814a87f494b060e8c0903fc0068f}{sem\_bd}}, 0, 1);}
\DoxyCodeLine{    }
\DoxyCodeLine{    }
\DoxyCodeLine{     \mbox{\hyperlink{main_8c_a65e8d83f25fef7705df61d0ba2e7aeed}{thread\_A1\_tid}} = k\_thread\_create(\&\mbox{\hyperlink{main_8c_a9458f0d62ec1f293b70003f545ef3736}{thread\_A1\_data}}, thread\_A1\_stack,}
\DoxyCodeLine{        K\_THREAD\_STACK\_SIZEOF(thread\_A1\_stack), \mbox{\hyperlink{main_8c_a7e3fa2c87f08ae9cfff992653a3ac0b6}{thread\_A1\_code}},}
\DoxyCodeLine{        NULL, NULL, NULL, \mbox{\hyperlink{main_8c_a746ccc18867d1114f9ea5144c5dfb59e}{thread\_A1\_prio}}, 0, K\_NO\_WAIT);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_aaac68d6bd12397c115c8f5fb8b8dae16}{thread\_A\_tid}} = k\_thread\_create(\&\mbox{\hyperlink{main_8c_a6d4412666e45fbd3d7bb2e537e3e4921}{thread\_A\_data}}, thread\_A\_stack,}
\DoxyCodeLine{        K\_THREAD\_STACK\_SIZEOF(thread\_A\_stack), \mbox{\hyperlink{main_8c_a61675a61bbec86901b2fe28f008e881c}{thread\_A\_code}},}
\DoxyCodeLine{        NULL, NULL, NULL, \mbox{\hyperlink{main_8c_a5936222e9802dbe8ceb1e99bd667466a}{thread\_A\_prio}}, 0, K\_NO\_WAIT);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_af2bd9deb85bd5ac0cdf3a0b077411289}{thread\_B\_tid}} = k\_thread\_create(\&\mbox{\hyperlink{main_8c_ad832c1a3de4a77b89216efc38eddcb72}{thread\_B\_data}}, thread\_B\_stack,}
\DoxyCodeLine{        K\_THREAD\_STACK\_SIZEOF(thread\_B\_stack), \mbox{\hyperlink{main_8c_a99cef2c8673e9c73162dd97f0247ca8e}{thread\_B\_code}},}
\DoxyCodeLine{        NULL, NULL, NULL, \mbox{\hyperlink{main_8c_aa9928aa4491a20c74a19c5904ba9530a}{thread\_B\_prio}}, 0, K\_NO\_WAIT);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a3e9a231be3f7d1a28871ddfdf5ca8fe3}{thread\_C\_tid}} = k\_thread\_create(\&\mbox{\hyperlink{main_8c_a9723f8aa3cfd56015ee57bc31879f8ec}{thread\_C\_data}}, thread\_C\_stack,}
\DoxyCodeLine{        K\_THREAD\_STACK\_SIZEOF(thread\_C\_stack), \mbox{\hyperlink{main_8c_a6eec62f04743b40b6d744ecd2f31cdd2}{thread\_C\_code}},}
\DoxyCodeLine{        NULL, NULL, NULL, \mbox{\hyperlink{main_8c_a1bd72aae8d0dd6e887547a1d5e0a8902}{thread\_C\_prio}}, 0, K\_NO\_WAIT);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_ae130441eb06f8e1d532010c32c8fd15c}{thread\_D\_tid}} = k\_thread\_create(\&\mbox{\hyperlink{main_8c_a91a7abf451804f293c55d5fc507cee31}{thread\_D\_data}}, thread\_D\_stack,}
\DoxyCodeLine{        K\_THREAD\_STACK\_SIZEOF(thread\_D\_stack), \mbox{\hyperlink{main_8c_a1a621f0dfdf57a438495482f571278e7}{thread\_D\_code}},}
\DoxyCodeLine{        NULL, NULL, NULL, \mbox{\hyperlink{main_8c_a02433a30dac2e9bc252089790fc081e3}{thread\_D\_prio}}, 0, K\_NO\_WAIT);}
\DoxyCodeLine{}
\DoxyCodeLine{     }
\DoxyCodeLine{    \textcolor{keywordflow}{return};}
\DoxyCodeLine{\}     }
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em N\+O\+\_\+args} & without arguments \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No returns 
\end{DoxyReturn}
Welcome message

Create and init semaphores

Create tasks\mbox{\Hypertarget{main_8c_a7e3fa2c87f08ae9cfff992653a3ac0b6}\label{main_8c_a7e3fa2c87f08ae9cfff992653a3ac0b6}} 
\index{main.c@{main.c}!thread\_A1\_code@{thread\_A1\_code}}
\index{thread\_A1\_code@{thread\_A1\_code}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A1\_code()}{thread\_A1\_code()}}
{\footnotesize\ttfamily void thread\+\_\+\+A1\+\_\+code (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



É o valor da A\+DC que é guardado numa variável global (shared memory between tasks A/B) no nosso Código denominada por “ab” e no final faz give do semáforo AB. 

Thread code prototypes \mbox{\Hypertarget{main_8c_a61675a61bbec86901b2fe28f008e881c}\label{main_8c_a61675a61bbec86901b2fe28f008e881c}} 
\index{main.c@{main.c}!thread\_A\_code@{thread\_A\_code}}
\index{thread\_A\_code@{thread\_A\_code}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A\_code()}{thread\_A\_code()}}
{\footnotesize\ttfamily void thread\+\_\+\+A\+\_\+code (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



É o valor da A\+DC que é guardado numa variável global (shared memory between tasks A/B) no nosso Código denominada por “ab” e no final faz give do semáforo AB. 


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a61675a61bbec86901b2fe28f008e881c}{thread\_A\_code}}(\textcolor{keywordtype}{void} *argA , \textcolor{keywordtype}{void} *argB, \textcolor{keywordtype}{void} *argC)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordtype}{int} err=0;}
\DoxyCodeLine{    }
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"Thread A init\(\backslash\)n"});}
\DoxyCodeLine{       }
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_a445f79326d40128ece59a749adff6894}{adc\_dev}} = device\_get\_binding(DT\_LABEL(\mbox{\hyperlink{main_8c_a667158ed9af1b72bf062e54bda71dd4f}{ADC\_NID}}));}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{main_8c_a445f79326d40128ece59a749adff6894}{adc\_dev}}) \{}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"ADC device\_get\_binding() failed\(\backslash\)n"});}
\DoxyCodeLine{    \} }
\DoxyCodeLine{    err = adc\_channel\_setup(\mbox{\hyperlink{main_8c_a445f79326d40128ece59a749adff6894}{adc\_dev}}, \&my\_channel\_cfg);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (err) \{}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"adc\_channel\_setup() failed with error code \%d\(\backslash\)n"}, err);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    }
\DoxyCodeLine{ }
\DoxyCodeLine{    NRF\_SAADC-\/>TASKS\_CALIBRATEOFFSET = 1;}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{        k\_sem\_take(\&\mbox{\hyperlink{main_8c_a694d4d09f94a0fa64224f38ced19a053}{sem\_a1a}},  K\_FOREVER);}
\DoxyCodeLine{       }
\DoxyCodeLine{        err=adc\_sample();}
\DoxyCodeLine{        \textcolor{keywordflow}{if}(err) \{}
\DoxyCodeLine{            printk(\textcolor{stringliteral}{"adc\_sample() failed with error code \%d\(\backslash\)n\(\backslash\)r"},err);}
\DoxyCodeLine{        \}}
\DoxyCodeLine{        \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{            \textcolor{keywordflow}{if}(adc\_sample\_buffer[0] > 1023) \{}
\DoxyCodeLine{                printk(\textcolor{stringliteral}{"adc reading out of range\(\backslash\)n\(\backslash\)r"});}
\DoxyCodeLine{            \}}
\DoxyCodeLine{            \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{            }
\DoxyCodeLine{                \mbox{\hyperlink{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}{ab}}=adc\_sample\_buffer[0];}
\DoxyCodeLine{            \}}
\DoxyCodeLine{        \}}
\DoxyCodeLine{}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Thread A set ab value to: \%d "},\mbox{\hyperlink{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}{ab}});  }
\DoxyCodeLine{        }
\DoxyCodeLine{        k\_sem\_give(\&\mbox{\hyperlink{main_8c_a82e13125c2f279157fcf738219ff21ba}{sem\_ab}});}
\DoxyCodeLine{       }
\DoxyCodeLine{       }
\DoxyCodeLine{}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\}}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em arg3} & void $\ast$argA , void $\ast$argB, void $\ast$argC. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No returns ~\newline
 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8c_a99cef2c8673e9c73162dd97f0247ca8e}\label{main_8c_a99cef2c8673e9c73162dd97f0247ca8e}} 
\index{main.c@{main.c}!thread\_B\_code@{thread\_B\_code}}
\index{thread\_B\_code@{thread\_B\_code}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_B\_code()}{thread\_B\_code()}}
{\footnotesize\ttfamily void thread\+\_\+\+B\+\_\+code (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



é feito o take do semáforo AB é realizado uma média das últimas 10 amostras calculadas na thread A e é feito um filtro rejeitando todos os valores que estejam abaixo ou acima de 10\% da média, sendo que este output é colocado numa variável global (shared memory between tasks B/C) no nosso Código denominada por “cb” e no final faz give do semáforo BC. 


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a99cef2c8673e9c73162dd97f0247ca8e}{thread\_B\_code}}(\textcolor{keywordtype}{void} *argA , \textcolor{keywordtype}{void} *argB, \textcolor{keywordtype}{void} *argC)}
\DoxyCodeLine{\{    }
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordtype}{int} Array\_dados[\mbox{\hyperlink{main_8c_a6f1906b9c40734b4c243278466d4ec0b}{len\_dados}}]=\{0\};}
\DoxyCodeLine{    \textcolor{keywordtype}{int} k=0;}
\DoxyCodeLine{}
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"Thread B init (sporadic, waits on a semaphore by task A)\(\backslash\)n"});}
\DoxyCodeLine{    \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordtype}{int} sumador=0,somador\_2=0,media=0, media\_filtered=0;}
\DoxyCodeLine{        \textcolor{keywordtype}{int} contador=0;}
\DoxyCodeLine{       }
\DoxyCodeLine{        k\_sem\_take(\&\mbox{\hyperlink{main_8c_a82e13125c2f279157fcf738219ff21ba}{sem\_ab}},  K\_FOREVER);}
\DoxyCodeLine{        }
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Task B read ab value: \%d\(\backslash\)n"},\mbox{\hyperlink{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}{ab}});}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} k=\mbox{\hyperlink{main_8c_a6f1906b9c40734b4c243278466d4ec0b}{len\_dados}}-\/1; k>0;k-\/-\/)\{}
\DoxyCodeLine{        }
\DoxyCodeLine{        Array\_dados[k]= Array\_dados[k-\/1];}
\DoxyCodeLine{        \}}
\DoxyCodeLine{        Array\_dados[0]= \mbox{\hyperlink{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}{ab}};}
\DoxyCodeLine{       }
\DoxyCodeLine{       \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{main_8c_a6f1906b9c40734b4c243278466d4ec0b}{len\_dados}}; i++)\{}
\DoxyCodeLine{            \textcolor{keywordflow}{if}(Array\_dados[i] != 0)\{}
\DoxyCodeLine{                sumador = sumador + Array\_dados[i];}
\DoxyCodeLine{            \}}
\DoxyCodeLine{        \}}
\DoxyCodeLine{        media=sumador/\mbox{\hyperlink{main_8c_a6f1906b9c40734b4c243278466d4ec0b}{len\_dados}};}
\DoxyCodeLine{        contador=0;}
\DoxyCodeLine{           }
\DoxyCodeLine{        \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < \mbox{\hyperlink{main_8c_a6f1906b9c40734b4c243278466d4ec0b}{len\_dados}}; j++)\{}
\DoxyCodeLine{            \textcolor{keywordflow}{if}(Array\_dados[j] < (media -\/ media*0.1) || Array\_dados[j] > (media + media*0.1))}
\DoxyCodeLine{                somador\_2=somador\_2;}
\DoxyCodeLine{            \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{                somador\_2 = somador\_2 + Array\_dados[j];}
\DoxyCodeLine{                contador =contador +1;}
\DoxyCodeLine{                }
\DoxyCodeLine{            \}             }
\DoxyCodeLine{        \}}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if}(somador\_2 != 0)}
\DoxyCodeLine{            media\_filtered=somador\_2/contador;}
\DoxyCodeLine{        \textcolor{keywordflow}{else} }
\DoxyCodeLine{            media\_filtered = 0;}
\DoxyCodeLine{}
\DoxyCodeLine{        \mbox{\hyperlink{main_8c_ab36d1100473c16852c1b64d1917454a4}{bd}}=\mbox{\hyperlink{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}{ab}};}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Thread B set bc value to: \%d\(\backslash\)n"},\mbox{\hyperlink{main_8c_a97102b52a1cf13a343a1a414bc865cde}{bc}});  }
\DoxyCodeLine{        k\_sem\_give(\&\mbox{\hyperlink{main_8c_a87cd814a87f494b060e8c0903fc0068f}{sem\_bd}});        }
\DoxyCodeLine{  \}}
\DoxyCodeLine{\}}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em arg3} & void $\ast$argA , void $\ast$argB, void $\ast$argC. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No returns 
\end{DoxyReturn}
array de dados da adc\mbox{\Hypertarget{main_8c_a6eec62f04743b40b6d744ecd2f31cdd2}\label{main_8c_a6eec62f04743b40b6d744ecd2f31cdd2}} 
\index{main.c@{main.c}!thread\_C\_code@{thread\_C\_code}}
\index{thread\_C\_code@{thread\_C\_code}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_C\_code()}{thread\_C\_code()}}
{\footnotesize\ttfamily void thread\+\_\+\+C\+\_\+code (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{ \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a6eec62f04743b40b6d744ecd2f31cdd2}{thread\_C\_code}}(\textcolor{keywordtype}{void} *argA , \textcolor{keywordtype}{void} *argB, \textcolor{keywordtype}{void} *argC)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{struct }device *\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}};        }
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{struct }device *pwm0\_dev;          }
\DoxyCodeLine{    \textcolor{keywordtype}{int} ret=0;                              }
\DoxyCodeLine{    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dcValue[]=\{100,90,80,70,60,50,40,30,20,10,0\};   }
\DoxyCodeLine{    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dcIndex=0;   }
\DoxyCodeLine{    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pwmPeriod\_us = 100;       }
\DoxyCodeLine{}
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"Thread C init (sporadic, waits on a semaphore by task B)\(\backslash\)n"});}
\DoxyCodeLine{    }
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}} = device\_get\_binding(DT\_LABEL(\mbox{\hyperlink{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}{GPIO0\_NID}}));}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}} == NULL) \{}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Error: Failed to bind to GPIO0\(\backslash\)n\(\backslash\)r"});        }
\DoxyCodeLine{    \textcolor{keywordflow}{return};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{        }
\DoxyCodeLine{    pwm0\_dev = device\_get\_binding(DT\_LABEL(\mbox{\hyperlink{main_8c_ab48b150a8660d0152dfde25b42c1755f}{PWM0\_NID}}));}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (pwm0\_dev == NULL) \{}
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"Error: Failed to bind to PWM0\(\backslash\)n r"});}
\DoxyCodeLine{    \textcolor{keywordflow}{return};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{   }
\DoxyCodeLine{    \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{        k\_sem\_take(\&\mbox{\hyperlink{main_8c_addc907d18e7e98a64a832ac1c7be5ad1}{sem\_bc}}, K\_FOREVER);}
\DoxyCodeLine{        ret=0;}
\DoxyCodeLine{        }
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if}(\mbox{\hyperlink{main_8c_a925968d5fb460a21c13cb8917784b98f}{Flag\_2}}) \{}
\DoxyCodeLine{            dcIndex++;}
\DoxyCodeLine{            \textcolor{keywordflow}{if}(dcIndex == 11) }
\DoxyCodeLine{                dcIndex = 0;}
\DoxyCodeLine{            \mbox{\hyperlink{main_8c_a925968d5fb460a21c13cb8917784b98f}{Flag\_2}} = 0;}
\DoxyCodeLine{            printk(\textcolor{stringliteral}{"PWM DC value set to \%u \%\%\(\backslash\)n\(\backslash\)r"},dcValue[dcIndex]);}
\DoxyCodeLine{}
\DoxyCodeLine{            ret = pwm\_pin\_set\_usec(pwm0\_dev, \mbox{\hyperlink{main_8c_ad66f6c0ce6fd44d24653df422e7a8c92}{BOARDLED1}},}
\DoxyCodeLine{              pwmPeriod\_us,(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})((pwmPeriod\_us*dcValue[dcIndex])/100), PWM\_POLARITY\_NORMAL);}
\DoxyCodeLine{            \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{                printk(\textcolor{stringliteral}{"Error \%d: failed to set pulse width\(\backslash\)n"}, ret);}
\DoxyCodeLine{        \textcolor{keywordflow}{return};}
\DoxyCodeLine{            \}}
\DoxyCodeLine{        \} }
\DoxyCodeLine{        \textcolor{keywordflow}{if}(\mbox{\hyperlink{main_8c_a9797c6a281fed7356c07f50a6727bd88}{Flag\_4}}) \{}
\DoxyCodeLine{            }
\DoxyCodeLine{            \textcolor{keywordflow}{if}(dcIndex == 0) }
\DoxyCodeLine{                dcIndex = 11;}
\DoxyCodeLine{            dcIndex-\/-\/;}
\DoxyCodeLine{            \mbox{\hyperlink{main_8c_a9797c6a281fed7356c07f50a6727bd88}{Flag\_4}} = 0;}
\DoxyCodeLine{            printk(\textcolor{stringliteral}{"PWM DC value set to \%u \%\%\(\backslash\)n\(\backslash\)r"},dcValue[dcIndex]);}
\DoxyCodeLine{}
\DoxyCodeLine{            ret = pwm\_pin\_set\_usec(pwm0\_dev, \mbox{\hyperlink{main_8c_ad66f6c0ce6fd44d24653df422e7a8c92}{BOARDLED1}},}
\DoxyCodeLine{              pwmPeriod\_us,(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})((pwmPeriod\_us*dcValue[dcIndex])/100), PWM\_POLARITY\_NORMAL);}
\DoxyCodeLine{            \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{                printk(\textcolor{stringliteral}{"Error \%d: failed to set pulse width\(\backslash\)n"}, ret);}
\DoxyCodeLine{        \textcolor{keywordflow}{return};}
\DoxyCodeLine{            \}}
\DoxyCodeLine{        \}}
\DoxyCodeLine{                       }
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Task C -\/ PWM: \%u \% n"}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})(((pwmPeriod\_us*\mbox{\hyperlink{main_8c_a97102b52a1cf13a343a1a414bc865cde}{bc}})/1023)/10)); }
\DoxyCodeLine{    \}}
\DoxyCodeLine{\}}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em arg3} & void $\ast$argA , void $\ast$argB, void $\ast$argC. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No returns 
\end{DoxyReturn}
Prints dutty-\/cycle\mbox{\Hypertarget{main_8c_a1a621f0dfdf57a438495482f571278e7}\label{main_8c_a1a621f0dfdf57a438495482f571278e7}} 
\index{main.c@{main.c}!thread\_D\_code@{thread\_D\_code}}
\index{thread\_D\_code@{thread\_D\_code}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_D\_code()}{thread\_D\_code()}}
{\footnotesize\ttfamily void thread\+\_\+\+D\+\_\+code (\begin{DoxyParamCaption}\item[{void $\ast$}]{argA,  }\item[{void $\ast$}]{argB,  }\item[{void $\ast$}]{argC }\end{DoxyParamCaption})}



Takes one adc\+\_\+sample. 


\begin{DoxyCode}{0}
\DoxyCodeLine{ \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a1a621f0dfdf57a438495482f571278e7}{thread\_D\_code}}(\textcolor{keywordtype}{void} *argA , \textcolor{keywordtype}{void} *argB, \textcolor{keywordtype}{void} *argC)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{struct }device *\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}};        }
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{struct }device *pwm0\_dev;          }
\DoxyCodeLine{    \textcolor{keywordtype}{int} ret=0;                              }
\DoxyCodeLine{    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dcValue[]=\{100,90,80,70,60,50,40,30,20,10,0\};   }
\DoxyCodeLine{    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dcIndex=0;   }
\DoxyCodeLine{    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pwmPeriod\_us = 100;       }
\DoxyCodeLine{}
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"Thread C init (sporadic, waits on a semaphore by task B)\(\backslash\)n"});}
\DoxyCodeLine{    }
\DoxyCodeLine{    }
\DoxyCodeLine{    \mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}} = device\_get\_binding(DT\_LABEL(\mbox{\hyperlink{main_8c_a4c0e6f34369bef1deb3a9efae6ac14fb}{GPIO0\_NID}}));}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_ac8529dec83e91f71d383fb84302cfb27}{gpio0\_dev}} == NULL) \{}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Error: Failed to bind to GPIO0\(\backslash\)n\(\backslash\)r"});        }
\DoxyCodeLine{    \textcolor{keywordflow}{return};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{        }
\DoxyCodeLine{    pwm0\_dev = device\_get\_binding(DT\_LABEL(\mbox{\hyperlink{main_8c_ab48b150a8660d0152dfde25b42c1755f}{PWM0\_NID}}));}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (pwm0\_dev == NULL) \{}
\DoxyCodeLine{    printk(\textcolor{stringliteral}{"Error: Failed to bind to PWM0\(\backslash\)n r"});}
\DoxyCodeLine{    \textcolor{keywordflow}{return};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{   }
\DoxyCodeLine{    \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{        k\_sem\_take(\&\mbox{\hyperlink{main_8c_a87cd814a87f494b060e8c0903fc0068f}{sem\_bd}}, K\_FOREVER);}
\DoxyCodeLine{        printk(\textcolor{stringliteral}{"Valor lido para automatico \%d\(\backslash\)n r"},\mbox{\hyperlink{main_8c_ab36d1100473c16852c1b64d1917454a4}{bd}});}
\DoxyCodeLine{        ret=0;}
\DoxyCodeLine{        }
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if}(\mbox{\hyperlink{main_8c_ab36d1100473c16852c1b64d1917454a4}{bd}}<500) \{}
\DoxyCodeLine{            }
\DoxyCodeLine{            ret = pwm\_pin\_set\_usec(pwm0\_dev, \mbox{\hyperlink{main_8c_ad66f6c0ce6fd44d24653df422e7a8c92}{BOARDLED1}},}
\DoxyCodeLine{              pwmPeriod\_us,(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})(pwmPeriod\_us), PWM\_POLARITY\_NORMAL);}
\DoxyCodeLine{            \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{                printk(\textcolor{stringliteral}{"Error \%d: failed to set pulse width\(\backslash\)n"}, ret);}
\DoxyCodeLine{        \textcolor{keywordflow}{return};}
\DoxyCodeLine{            \}}
\DoxyCodeLine{        \} }
\DoxyCodeLine{        \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{            }
\DoxyCodeLine{            ret = pwm\_pin\_set\_usec(pwm0\_dev, \mbox{\hyperlink{main_8c_ad66f6c0ce6fd44d24653df422e7a8c92}{BOARDLED1}},}
\DoxyCodeLine{              pwmPeriod\_us,(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})(0), PWM\_POLARITY\_NORMAL);}
\DoxyCodeLine{            \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{                printk(\textcolor{stringliteral}{"Error \%d: failed to set pulse width\(\backslash\)n"}, ret);}
\DoxyCodeLine{        \textcolor{keywordflow}{return};}
\DoxyCodeLine{            \}}
\DoxyCodeLine{        \} }
\DoxyCodeLine{        }
\DoxyCodeLine{ \}}
\DoxyCodeLine{ \}}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em N\+O\+\_\+args} & without arguments \\
\hline
{\em arg3} & void $\ast$argA , void $\ast$argB, void $\ast$argC.\\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keyword}{static} \textcolor{keywordtype}{int} adc\_sample(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordtype}{int} ret;}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{struct }adc\_sequence sequence = \{}
\DoxyCodeLine{        .channels = BIT(\mbox{\hyperlink{main_8c_a8bfca74ee546715af6682194ea92286a}{ADC\_CHANNEL\_ID}}),}
\DoxyCodeLine{        .buffer = adc\_sample\_buffer,}
\DoxyCodeLine{        .buffer\_size = \textcolor{keyword}{sizeof}(adc\_sample\_buffer),}
\DoxyCodeLine{        .resolution = \mbox{\hyperlink{main_8c_a00978ca9e8220475258dcbbbb7d29129}{ADC\_RESOLUTION}},}
\DoxyCodeLine{    \};}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a445f79326d40128ece59a749adff6894}{adc\_dev}} == NULL) \{}
\DoxyCodeLine{            printk(\textcolor{stringliteral}{"adc\_sample(): error, must bind to adc first \(\backslash\)r"});}
\DoxyCodeLine{            \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    ret = adc\_read(\mbox{\hyperlink{main_8c_a445f79326d40128ece59a749adff6894}{adc\_dev}}, \&sequence);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{            printk(\textcolor{stringliteral}{"adc\_read() failed with code \%d\(\backslash\)n"}, ret);}
\DoxyCodeLine{    \}   }
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{\}}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em N\+O\+\_\+args} & without arguments \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Read A\+D\+C\+\_\+sample value (static int) 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_a0fd5f93d336a08dcaabccf71812f2ef0}\label{main_8c_a0fd5f93d336a08dcaabccf71812f2ef0}} 
\index{main.c@{main.c}!a1a@{a1a}}
\index{a1a@{a1a}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{a1a}{a1a}}
{\footnotesize\ttfamily int a1a =0}

Global vars (shared memory between tasks A/B and B/C, resp) \mbox{\Hypertarget{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}\label{main_8c_a2c9b173c6ea51db9d371f2d06fd8582f}} 
\index{main.c@{main.c}!ab@{ab}}
\index{ab@{ab}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{ab}{ab}}
{\footnotesize\ttfamily int ab = 0}

\mbox{\Hypertarget{main_8c_a445f79326d40128ece59a749adff6894}\label{main_8c_a445f79326d40128ece59a749adff6894}} 
\index{main.c@{main.c}!adc\_dev@{adc\_dev}}
\index{adc\_dev@{adc\_dev}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{adc\_dev}{adc\_dev}}
{\footnotesize\ttfamily const struct device$\ast$ adc\+\_\+dev = N\+U\+LL}

\mbox{\Hypertarget{main_8c_a97102b52a1cf13a343a1a414bc865cde}\label{main_8c_a97102b52a1cf13a343a1a414bc865cde}} 
\index{main.c@{main.c}!bc@{bc}}
\index{bc@{bc}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{bc}{bc}}
{\footnotesize\ttfamily int bc = 0}

\mbox{\Hypertarget{main_8c_ab36d1100473c16852c1b64d1917454a4}\label{main_8c_ab36d1100473c16852c1b64d1917454a4}} 
\index{main.c@{main.c}!bd@{bd}}
\index{bd@{bd}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{bd}{bd}}
{\footnotesize\ttfamily int bd = 0}

\mbox{\Hypertarget{main_8c_a1b93c31a3a5406a58cf35e15fdfe4cfa}\label{main_8c_a1b93c31a3a5406a58cf35e15fdfe4cfa}} 
\index{main.c@{main.c}!Flag\_1@{Flag\_1}}
\index{Flag\_1@{Flag\_1}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{Flag\_1}{Flag\_1}}
{\footnotesize\ttfamily volatile int Flag\+\_\+1 = 0}

\mbox{\Hypertarget{main_8c_a925968d5fb460a21c13cb8917784b98f}\label{main_8c_a925968d5fb460a21c13cb8917784b98f}} 
\index{main.c@{main.c}!Flag\_2@{Flag\_2}}
\index{Flag\_2@{Flag\_2}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{Flag\_2}{Flag\_2}}
{\footnotesize\ttfamily volatile int Flag\+\_\+2 = 0}

\mbox{\Hypertarget{main_8c_a1a04a388ea7965509c8323377ab6dc11}\label{main_8c_a1a04a388ea7965509c8323377ab6dc11}} 
\index{main.c@{main.c}!Flag\_3@{Flag\_3}}
\index{Flag\_3@{Flag\_3}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{Flag\_3}{Flag\_3}}
{\footnotesize\ttfamily volatile int Flag\+\_\+3 = 0}

\mbox{\Hypertarget{main_8c_a9797c6a281fed7356c07f50a6727bd88}\label{main_8c_a9797c6a281fed7356c07f50a6727bd88}} 
\index{main.c@{main.c}!Flag\_4@{Flag\_4}}
\index{Flag\_4@{Flag\_4}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{Flag\_4}{Flag\_4}}
{\footnotesize\ttfamily volatile int Flag\+\_\+4 = 0}

\mbox{\Hypertarget{main_8c_a83a05746f11a28eb3b63c6a34f02b6b0}\label{main_8c_a83a05746f11a28eb3b63c6a34f02b6b0}} 
\index{main.c@{main.c}!flag\_flag@{flag\_flag}}
\index{flag\_flag@{flag\_flag}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{flag\_flag}{flag\_flag}}
{\footnotesize\ttfamily volatile bool flag\+\_\+flag = 0}

\mbox{\Hypertarget{main_8c_ac8529dec83e91f71d383fb84302cfb27}\label{main_8c_ac8529dec83e91f71d383fb84302cfb27}} 
\index{main.c@{main.c}!gpio0\_dev@{gpio0\_dev}}
\index{gpio0\_dev@{gpio0\_dev}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{gpio0\_dev}{gpio0\_dev}}
{\footnotesize\ttfamily const struct device$\ast$ gpio0\+\_\+dev}

\mbox{\Hypertarget{main_8c_a80d0933bb7a6454573b3ade529a72418}\label{main_8c_a80d0933bb7a6454573b3ade529a72418}} 
\index{main.c@{main.c}!my\_timer@{my\_timer}}
\index{my\_timer@{my\_timer}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{my\_timer}{my\_timer}}
{\footnotesize\ttfamily struct k\+\_\+timer my\+\_\+timer}

Global vars \mbox{\Hypertarget{main_8c_a3a480200b92d24ef74a3d1673fe80352}\label{main_8c_a3a480200b92d24ef74a3d1673fe80352}} 
\index{main.c@{main.c}!rep\_mesg@{rep\_mesg}}
\index{rep\_mesg@{rep\_mesg}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{rep\_mesg}{rep\_mesg}}
{\footnotesize\ttfamily uint8\+\_\+t rep\+\_\+mesg\mbox{[}\mbox{\hyperlink{main_8c_a923af2d146f214e75816a7f5993cee29}{T\+X\+B\+U\+F\+\_\+\+S\+I\+ZE}}\mbox{]}}

\mbox{\Hypertarget{main_8c_a694d4d09f94a0fa64224f38ced19a053}\label{main_8c_a694d4d09f94a0fa64224f38ced19a053}} 
\index{main.c@{main.c}!sem\_a1a@{sem\_a1a}}
\index{sem\_a1a@{sem\_a1a}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sem\_a1a}{sem\_a1a}}
{\footnotesize\ttfamily struct k\+\_\+sem sem\+\_\+a1a}

Semaphores for task synch \mbox{\Hypertarget{main_8c_a82e13125c2f279157fcf738219ff21ba}\label{main_8c_a82e13125c2f279157fcf738219ff21ba}} 
\index{main.c@{main.c}!sem\_ab@{sem\_ab}}
\index{sem\_ab@{sem\_ab}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sem\_ab}{sem\_ab}}
{\footnotesize\ttfamily struct k\+\_\+sem sem\+\_\+ab}

\mbox{\Hypertarget{main_8c_addc907d18e7e98a64a832ac1c7be5ad1}\label{main_8c_addc907d18e7e98a64a832ac1c7be5ad1}} 
\index{main.c@{main.c}!sem\_bc@{sem\_bc}}
\index{sem\_bc@{sem\_bc}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sem\_bc}{sem\_bc}}
{\footnotesize\ttfamily struct k\+\_\+sem sem\+\_\+bc}

\mbox{\Hypertarget{main_8c_a87cd814a87f494b060e8c0903fc0068f}\label{main_8c_a87cd814a87f494b060e8c0903fc0068f}} 
\index{main.c@{main.c}!sem\_bd@{sem\_bd}}
\index{sem\_bd@{sem\_bd}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sem\_bd}{sem\_bd}}
{\footnotesize\ttfamily struct k\+\_\+sem sem\+\_\+bd}

\mbox{\Hypertarget{main_8c_a9458f0d62ec1f293b70003f545ef3736}\label{main_8c_a9458f0d62ec1f293b70003f545ef3736}} 
\index{main.c@{main.c}!thread\_A1\_data@{thread\_A1\_data}}
\index{thread\_A1\_data@{thread\_A1\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A1\_data}{thread\_A1\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+\+A1\+\_\+data}

Create variables for thread data \mbox{\Hypertarget{main_8c_a65e8d83f25fef7705df61d0ba2e7aeed}\label{main_8c_a65e8d83f25fef7705df61d0ba2e7aeed}} 
\index{main.c@{main.c}!thread\_A1\_tid@{thread\_A1\_tid}}
\index{thread\_A1\_tid@{thread\_A1\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A1\_tid}{thread\_A1\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+\+A1\+\_\+tid}

Create task I\+Ds \mbox{\Hypertarget{main_8c_a6d4412666e45fbd3d7bb2e537e3e4921}\label{main_8c_a6d4412666e45fbd3d7bb2e537e3e4921}} 
\index{main.c@{main.c}!thread\_A\_data@{thread\_A\_data}}
\index{thread\_A\_data@{thread\_A\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A\_data}{thread\_A\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+\+A\+\_\+data}

\mbox{\Hypertarget{main_8c_aaac68d6bd12397c115c8f5fb8b8dae16}\label{main_8c_aaac68d6bd12397c115c8f5fb8b8dae16}} 
\index{main.c@{main.c}!thread\_A\_tid@{thread\_A\_tid}}
\index{thread\_A\_tid@{thread\_A\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_A\_tid}{thread\_A\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+\+A\+\_\+tid}

\mbox{\Hypertarget{main_8c_ad832c1a3de4a77b89216efc38eddcb72}\label{main_8c_ad832c1a3de4a77b89216efc38eddcb72}} 
\index{main.c@{main.c}!thread\_B\_data@{thread\_B\_data}}
\index{thread\_B\_data@{thread\_B\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_B\_data}{thread\_B\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+\+B\+\_\+data}

\mbox{\Hypertarget{main_8c_af2bd9deb85bd5ac0cdf3a0b077411289}\label{main_8c_af2bd9deb85bd5ac0cdf3a0b077411289}} 
\index{main.c@{main.c}!thread\_B\_tid@{thread\_B\_tid}}
\index{thread\_B\_tid@{thread\_B\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_B\_tid}{thread\_B\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+\+B\+\_\+tid}

\mbox{\Hypertarget{main_8c_a9723f8aa3cfd56015ee57bc31879f8ec}\label{main_8c_a9723f8aa3cfd56015ee57bc31879f8ec}} 
\index{main.c@{main.c}!thread\_C\_data@{thread\_C\_data}}
\index{thread\_C\_data@{thread\_C\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_C\_data}{thread\_C\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+\+C\+\_\+data}

\mbox{\Hypertarget{main_8c_a3e9a231be3f7d1a28871ddfdf5ca8fe3}\label{main_8c_a3e9a231be3f7d1a28871ddfdf5ca8fe3}} 
\index{main.c@{main.c}!thread\_C\_tid@{thread\_C\_tid}}
\index{thread\_C\_tid@{thread\_C\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_C\_tid}{thread\_C\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+\+C\+\_\+tid}

\mbox{\Hypertarget{main_8c_a91a7abf451804f293c55d5fc507cee31}\label{main_8c_a91a7abf451804f293c55d5fc507cee31}} 
\index{main.c@{main.c}!thread\_D\_data@{thread\_D\_data}}
\index{thread\_D\_data@{thread\_D\_data}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_D\_data}{thread\_D\_data}}
{\footnotesize\ttfamily struct k\+\_\+thread thread\+\_\+\+D\+\_\+data}

\mbox{\Hypertarget{main_8c_ae130441eb06f8e1d532010c32c8fd15c}\label{main_8c_ae130441eb06f8e1d532010c32c8fd15c}} 
\index{main.c@{main.c}!thread\_D\_tid@{thread\_D\_tid}}
\index{thread\_D\_tid@{thread\_D\_tid}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{thread\_D\_tid}{thread\_D\_tid}}
{\footnotesize\ttfamily k\+\_\+tid\+\_\+t thread\+\_\+\+D\+\_\+tid}

\mbox{\Hypertarget{main_8c_acbbb8dc9e34f2cbd68792504dc18da81}\label{main_8c_acbbb8dc9e34f2cbd68792504dc18da81}} 
\index{main.c@{main.c}!uart\_cfg@{uart\_cfg}}
\index{uart\_cfg@{uart\_cfg}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{uart\_cfg}{uart\_cfg}}
{\footnotesize\ttfamily const struct uart\+\_\+config uart\+\_\+cfg}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{        .baudrate = 115200,}
\DoxyCodeLine{        .parity = UART\_CFG\_PARITY\_NONE,}
\DoxyCodeLine{        .stop\_bits = UART\_CFG\_STOP\_BITS\_1,}
\DoxyCodeLine{        .data\_bits = UART\_CFG\_DATA\_BITS\_8,}
\DoxyCodeLine{        .flow\_ctrl = UART\_CFG\_FLOW\_CTRL\_NONE}
\DoxyCodeLine{\}}

\end{DoxyCode}
\mbox{\Hypertarget{main_8c_a660f23134aaae43c9ff2c6096fa59342}\label{main_8c_a660f23134aaae43c9ff2c6096fa59342}} 
\index{main.c@{main.c}!uart\_dev@{uart\_dev}}
\index{uart\_dev@{uart\_dev}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{uart\_dev}{uart\_dev}}
{\footnotesize\ttfamily const struct device$\ast$ uart\+\_\+dev}

\mbox{\Hypertarget{main_8c_a8602e618ecd67a430b4e7582fd69bd51}\label{main_8c_a8602e618ecd67a430b4e7582fd69bd51}} 
\index{main.c@{main.c}!uart\_rx\_rdy\_flag@{uart\_rx\_rdy\_flag}}
\index{uart\_rx\_rdy\_flag@{uart\_rx\_rdy\_flag}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{uart\_rx\_rdy\_flag}{uart\_rx\_rdy\_flag}}
{\footnotesize\ttfamily volatile int uart\+\_\+rx\+\_\+rdy\+\_\+flag}

\mbox{\Hypertarget{main_8c_aa10d925c769d61749a2c03cbc08accf9}\label{main_8c_aa10d925c769d61749a2c03cbc08accf9}} 
\index{main.c@{main.c}!welcome\_mesg@{welcome\_mesg}}
\index{welcome\_mesg@{welcome\_mesg}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{welcome\_mesg}{welcome\_mesg}}
{\footnotesize\ttfamily uint8\+\_\+t welcome\+\_\+mesg\mbox{[}$\,$\mbox{]} = \char`\"{}U\+A\+RT demo\+: Type a few chars in a row and then pause for a little while ...\textbackslash{}n\textbackslash{}r\char`\"{}}

Main function 